<app-nav-bar></app-nav-bar>

<div class="container">
    <h5 class="mt-3 mb-3">Create new product</h5>
    <form #form="ngForm" (ngSubmit)="onSubmit()">

        <div class="form-group">
            <img *ngFor="let image of images" [src]="image" class="img-thubnail rounded border border-1" alt="image" 
            (click)="removeImage(image)">
            
        </div>

        <div class="form-group mt-2">
            <input class="form-control input" type="file" (change)="changeListener($event)" >
        </div>

        <div class="form-group mt-2">
            <label for="name">
                <h5>Name</h5>
                <input class="form-control" type="text" name="name" [(ngModel)]="product.name" required>
            </label>
        </div>

        <div class="form-group mt-2">
            <label for="description">
                <h5>Description</h5>
                <input class="form-control" type="text" name="description" [(ngModel)]="product.description">
            </label>
        </div>

        <div class="form-group mt-2">
            <label for="category">
                <h5>Category</h5>
            </label>
            <select class="form-control col-3" name="categoryId" id="category" [(ngModel)]="product.categoryId" #categoryId="ngModel" required>
                <option *ngFor="let category of categories" value="{{category.id}}">{{category.name}}</option>
            </select>
        </div>

        <div class="form-check form-switch mt-2">
            <label class="form-check-label" for="isActive">
                <h5>Is active?</h5>
            </label>
            <input class="form-check-input" type="checkbox" value="0" name="isActive" id="isActive" [(ngModel)]="product.isActive" #isActive="ngModel">
        </div>

        <div class="form-group mt-2">
            <label for="price">
                <h5>Price</h5>
                <input class="form-control" type="number" name="price" [(ngModel)]="product.price" required>
            </label>
        </div>

        <button class="btn btn-success mt-2" type="submit" [disabled]="!form.valid">Create!</button>
    </form>
</div>
